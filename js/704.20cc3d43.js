"use strict";(self["webpackChunk_01_project"]=self["webpackChunk_01_project"]||[]).push([[704],{8704:function(a,s,t){t.r(s),t.d(s,{default:function(){return g}});var r=function(){var a=this,s=a._self._c;return s("div",[s("TypeNav"),s("div",{staticClass:"main"},[s("div",{staticClass:"py-container"},[s("div",{staticClass:"bread"},[a._m(0),s("ul",{staticClass:"fl sui-tag"},[a.searchParams.categoryName?s("li",{staticClass:"with-x"},[a._v(" "+a._s(a.searchParams.categoryName)+" "),s("span",{on:{click:a.removeQuery}},[a._v("X")])]):a._e(),a.searchParams.keyword?s("li",{staticClass:"with-x"},[a._v(" "+a._s(a.searchParams.keyword)+" "),s("span",{on:{click:a.removeKeyword}},[a._v("X")])]):a._e(),a.searchParams.trademark?s("li",{staticClass:"with-x"},[a._v(" "+a._s(a.searchParams.trademark.split(":")[1])+" "),s("span",{on:{click:a.removeTrademark}},[a._v("X")])]):a._e(),a._l(a.searchParams.props,(function(t,r){return s("li",{key:t,staticClass:"with-x"},[a._v(" "+a._s(t.split(":")[1])+" "),s("span",{on:{click:function(s){return a.removeProps(r)}}},[a._v("X")])])}))],2)]),s("SearchSelector",{attrs:{trademarkList:a.trademarkList,attrsList:a.attrsList},on:{setTrademark:a.setTrademark,setProps:a.setProps}}),s("div",{staticClass:"details clearfix"},[s("div",{staticClass:"sui-navbar"},[s("div",{staticClass:"navbar-inner filter"},[s("ul",{staticClass:"sui-nav"},[s("li",{class:"1"===a.searchParams.order.split(":")[0]?"active":"",on:{click:function(s){return a.changeOrder("1")}}},[s("a",{attrs:{href:"javascript:;"}},[a._v(" 综合 "),s("i",{directives:[{name:"show",rawName:"v-show",value:"1"===a.searchParams.order.split(":")[0],expression:"searchParams.order.split(':')[0] === '1'"}],staticClass:"iconfont",class:"desc"===a.searchParams.order.split(":")[1]?" icon-arrowdown":"icon-upward",staticStyle:{"font-size":"10px"}})])]),s("li",{class:"2"===a.searchParams.order.split(":")[0]?"active":"",on:{click:function(s){return a.changeOrder("2")}}},[s("a",{attrs:{href:"javascript:;"}},[a._v(" 价格 "),s("i",{directives:[{name:"show",rawName:"v-show",value:"2"===a.searchParams.order.split(":")[0],expression:"searchParams.order.split(':')[0] === '2'"}],staticClass:"iconfont icon-arrowdown",class:"desc"===a.searchParams.order.split(":")[1]?" icon-arrowdown":"icon-upward",staticStyle:{"font-size":"10px"}})])])])])]),s("div",{staticClass:"goods-list"},[s("ul",{staticClass:"yui3-g"},a._l(a.goodsList,(function(t){return s("li",{key:t.id,staticClass:"yui3-u-1-5"},[s("div",{staticClass:"list-wrap"},[s("div",{staticClass:"p-img"},[s("router-link",{attrs:{to:{name:"detail",params:{skuId:t.id}}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.defaultImg,expression:"item.defaultImg"}]})])],1),s("div",{staticClass:"price"},[s("strong",[s("em",[a._v("¥")]),s("i",[a._v(a._s(t.price))])])]),s("div",{staticClass:"attr"},[s("a",{attrs:{target:"_blank",href:"item.html",title:"促销信息，下单即赠送三个月CIBN视频会员卡！【小米电视新品4A 58 火爆预约中】"}},[a._v(a._s(t.title))])]),a._m(1,!0),a._m(2,!0)])])})),0)]),s("Pagination",{attrs:{pageNo:a.searchParams.pageNo,totalPages:a.totalPages,continuePage:a.continuePage},on:{changePage:a.changePage}})],1)],1)])],1)},e=[function(){var a=this,s=a._self._c;return s("ul",{staticClass:"fl sui-breadcrumb"},[s("li",[s("a",{attrs:{href:"#"}},[a._v("全部结果")])])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"commit"},[s("i",{staticClass:"command"},[a._v("已有"),s("span",[a._v("2000")]),a._v("人评价")])])},function(){var a=this,s=a._self._c;return s("div",{staticClass:"operate"},[s("a",{staticClass:"sui-btn btn-bordered btn-danger",attrs:{href:"success-cart.html",target:"_blank"}},[a._v("加入购物车")]),s("a",{staticClass:"sui-btn btn-bordered",attrs:{href:"javascript:void(0);"}},[a._v("收藏")])])}],i=(t(7658),function(){var a=this,s=a._self._c;return s("div",{staticClass:"clearfix selector"},[s("div",{staticClass:"type-wrap logo"},[s("div",{staticClass:"fl key brand"},[a._v("品牌")]),s("div",{staticClass:"value logos"},[s("ul",{staticClass:"logo-list"},a._l(a.trademarkList,(function(t){return s("li",{key:t.tmId,on:{click:function(s){return a.getTrademark(`${t.tmId}:${t.tmName}`)}}},[a._v(" "+a._s(t.tmName)+" ")])})),0)]),a._m(0)]),a._l(a.attrsList,(function(t){return s("div",{key:t.attrId,staticClass:"type-wrap"},[s("div",{staticClass:"fl key"},[a._v(a._s(t.attrName))]),s("div",{staticClass:"fl value"},[s("ul",{staticClass:"type-list"},a._l(t.attrValueList,(function(r){return s("li",{key:r,on:{click:function(s){return a.getProps(t.attrId,r,t)}}},[s("a",[a._v(a._s(r))])])})),0)]),s("div",{staticClass:"fl ext"})])}))],2)}),c=[function(){var a=this,s=a._self._c;return s("div",{staticClass:"ext"},[s("a",{staticClass:"sui-btn",attrs:{href:"javascript:void(0);"}},[a._v("多选")]),s("a",{attrs:{href:"javascript:void(0);"}},[a._v("更多")])])}],o={name:"SearchSelector",props:["trademarkList","attrsList"],methods:{getTrademark(a){this.$emit("setTrademark",a)},getProps(a,s,t){const r=`${a}:${s}:${t}`;this.$emit("setProps",r)}}},l=o,n=t(1001),d=(0,n.Z)(l,i,c,!1,null,"d34c7c50",null),m=d.exports,h=t(3040),u={name:"Search",data(){return{searchParams:{category1Id:null,category2Id:null,category3Id:null,categoryName:"",keyword:"",order:"1:desc",pageNo:1,pageSize:100,props:[],trademark:""},attrsList:[],goodsList:[],trademarkList:[],totalPages:0,continuePage:3}},mounted(){this.getSearchList(),this.initSearchParams()},methods:{async getSearchList(){let a=await(0,h.BA)(this.searchParams);this.attrsList=a.attrsList,this.goodsList=a.goodsList,this.trademarkList=a.trademarkList,this.totalPages=a.totalPages},initSearchParams(){const{category1Id:a,category2Id:s,category3Id:t,categoryName:r}=this.$route.query,{keyword:e}=this.$route.params;this.searchParams={...this.searchParams,category1Id:a,category2Id:s,category3Id:t,categoryName:r,keyword:e}},removeQuery(){this.searchParams={...this.searchParams,category1Id:null,category2Id:null,category3Id:null,categoryName:""};const a=this.$route.params;this.$router.push({name:"search",params:a})},removeKeyword(){this.searchParams.keyword="";const a=this.$route.query;this.$router.push({name:"search",query:a}),this.$bus.$emit("clearKeyword")},setTrademark(a){this.searchParams.trademark=a},removeTrademark(){this.searchParams.trademark=""},setProps(a){this.searchParams.props.push(a)},removeProps(a){this.searchParams.props.splice(a,1)},changeOrder(a){let s=this.searchParams.order.split(":")[0],t=this.searchParams.order.split(":")[1];if(a===s){let s=a+":"+("desc"===t?"asc":"desc");this.searchParams.order=s}else{let s=a+":desc";this.searchParams.order=s}},changePage(a){this.searchParams.pageNo=a}},components:{SearchSelector:m},watch:{$route(){this.initSearchParams()},searchParams:{deep:!0,handler(){this.getSearchList()}}}},v=u,p=(0,n.Z)(v,r,e,!1,null,"1f4f5e52",null),g=p.exports}}]);
//# sourceMappingURL=704.20cc3d43.js.map